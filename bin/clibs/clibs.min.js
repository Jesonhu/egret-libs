var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},clibs;!function(t){var e=function(){function t(){this.CLASSNAME="CollisionManager"}return t.hitTestRect=function(t,e){var i=t.getBounds(),n=e.getBounds();return i.x=t.x,i.y=t.y,n.x=e.x,n.y=e.y,i.intersects(n)},t.prototype.toString=function(){return this.CLASSNAME},t}();t.CollisionManager=e,__reflect(e.prototype,"clibs.CollisionManager")}(clibs||(clibs={}));var clibs;!function(t){var e=function(e){function i(t,i,n){var s=e.call(this)||this;if(s.CLASS_NAME="DragManagerRect",s._isDrag=!1,s._excludeLeftWidth=0,s._excludeRightWidth=0,s._excludeTopHeight=0,s._excludeBottomHeight=0,!t)return s;s._display=t,s._stage=i,s._distance||(s._distance=new egret.Point),s._display.addEventListener(egret.TouchEvent.TOUCH_BEGIN,s.onTouchDown,s),s._display.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,s.onTouchUp,s),s._display.addEventListener(egret.TouchEvent.TOUCH_END,s.onTouchUp,s),s._stage.addEventListener(egret.Event.LEAVE_STAGE,s.onTouchUp,s),s._stage instanceof egret.Stage?(s._stageWidth=s._stage.stageWidth,s._stageHeight=s._stage.stageHeight):(s._stageWidth=s._stage.width,s._stageHeight=s._stage.height),s._excludeRightWidth=(new BtnsGroup).width;var o=s._stageWidth-s._excludeLeftWidth-s._excludeRightWidth,r=(s._stageHeight-s._excludeTopHeight-s._excludeBottomHeight,new egret.Rectangle(0,0,o,s._stageHeight));return s._bounds=n?n:r,s}return __extends(i,e),i.prototype.onTouchDown=function(e){this._stage.setChildIndex(this._display,this._stage.numChildren-1),this._distance.x=e.stageX-this._display.x,this._distance.y=e.stageY-this._display.y,this.checkBoundary(this._display,this._bounds),this._isDrag=!0,this._dispalyDown=this._display,this._isDrag&&(this._stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.dispatchEventWith(t.DragEvent.DRAG_START))},i.prototype.onTouchMove=function(e){this._isDrag&&this._dispalyDown==this._display&&(this._display.x=e.stageX-this._distance.x,this._display.y=e.stageY-this._distance.y,this.checkBoundary(this._display,this._bounds),this.dispatchEventWith(t.DragEvent.DRAG_MOVE))},i.prototype.onTouchUp=function(e){this._display&&this._dispalyDown==this._display&&(this._isDrag=!1,this._stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this._stage.removeEventListener(egret.Event.LEAVE_STAGE,this.onTouchUp,this),this.dispatchEventWith(t.DragEvent.DRAG_STOP))},i.prototype.addEventListeners=function(){this._display.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchDown,this),this._display.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this._display.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchUp,this),this._stage.addEventListener(egret.Event.LEAVE_STAGE,this.onTouchUp,this)},i.prototype.removeEventListeners=function(){this._display.hasEventListener(egret.TouchEvent.TOUCH_BEGIN)&&this._display.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchDown,this),this._display.hasEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE)&&this._display.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchUp,this),this._display.hasEventListener(egret.TouchEvent.TOUCH_END)&&this._display.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchUp,this),this._stage.hasEventListener(egret.Event.LEAVE_STAGE)&&this._stage.removeEventListener(egret.Event.LEAVE_STAGE,this.onTouchUp,this)},i.prototype.removeDrag=function(){this.removeEventListeners()},i.prototype.restoreDrag=function(){this.addEventListeners()},i.prototype.checkBoundary=function(t,e){t.x>=e.width-t.width&&(t.x=e.width-t.width),t.x<=e.x&&(t.x=e.x),t.y>=e.height-t.height&&(t.y=e.height-t.height),t.y<=e.y&&(t.y=e.y)},Object.defineProperty(i.prototype,"dragDisplay",{get:function(){return this._display},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isDrag",{get:function(){return this._isDrag},set:function(t){this._isDrag=t},enumerable:!0,configurable:!0}),i.prototype.remove=function(){this._stage&&this._display&&this._stage.removeChild(this._display)},i.prototype.toString=function(){return this.CLASS_NAME},i}(egret.EventDispatcher);t.DragRectManager=e,__reflect(e.prototype,"clibs.DragRectManager",["egret.IEventDispatcher"])}(clibs||(clibs={}));var clibs;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.DRAG_START="dragsSart",e.DRAG_MOVE="dragMove",e.DRAG_STOP="dragStop",e}(egret.Event);t.DragEvent=e,__reflect(e.prototype,"clibs.DragEvent")}(clibs||(clibs={}));var BaseComponent=function(t){function e(){var e=t.call(this)||this;return e._isActived=!1,e._isRight=!1,e}return __extends(e,t),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.init()},e.prototype.init=function(){},e.prototype.initData=function(){},e.prototype.resetData=function(){},Object.defineProperty(e.prototype,"isActived",{get:function(){return this._isActived},set:function(t){this._isActived=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRight",{get:function(){return this._isRight},set:function(t){this._isRight=t},enumerable:!0,configurable:!0}),e}(eui.Component);__reflect(BaseComponent.prototype,"BaseComponent",["eui.UIComponent"]);